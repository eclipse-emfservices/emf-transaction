## promoteToEclipse.*.properties
## specific version of promoteToEclipse.sh properties

# product being built (folder name prefix)
projectName=emft
projectNameVanity=`echo $projectName $subprojectName | tr "a-z" "A-Z"`; # or something else manually assigned

# used to determine the actual name of the SDK zip (when builds are aliased)
SDKfilenamepattern="$projectName-$subprojectName-SDK-*.zip"

# cvs modules and aliases to use when checking out: this will be used like this:
#   cvs -d $eclipseCVSRep $quietCVS co -P -d uml2 org.eclipse.$projectName/$subprojectName
cvsModulesArray=( "$subprojectName org.eclipse.$projectName/$subprojectName" );

# TODO: this is probably broken
# which targets should be bugzilla gen'd (release notes, what's new cvs/bugzilla): if more than one, space delim'd list
generateBugzillaListTargets="$subprojectName"

# the following two arrays must be the same size (or else the second one will default to blank)
javadocModuleArray=( "$projectName-$subprojectName" ); # array, project-subproject, for the name of the zip scp'd to remote, eg. foo-bar-doc.zip
# if "", create in $projectName/javadoc; if "/path", create in $projectName/$subprojectName/javadoc 
javadocFolderArray=( "/$subprojectName" ); # array of path fragments
# list of targets to use when executing fixJavadocs.sh
javadocTargetArray=( "-sub $subprojectName" );

# publisher of newsgroup announcements
newsgroupPublisherEmail="Christian Damus <cdamus@ca.ibm.com>"
newsgroup=eclipse.technology.$projectName

# default eclipse.org & build server username
user=$USER

# group permissions on eclipse.org so that anyone can change files
eclipseUserGroup="$projectName-home"
eclipsePermsDir=2775
eclipsePermsFile=664

# group permissions on build box so that anyone can change files
buildUserGroup="www"
buildPermsDir=2775
buildPermsFile=664

# IES map file version (required)
branchIES=3.2.0

# IES map file template: use "buildIDactual" and "webPath" as placeholders
IESmapfileArray=( 
"$projectName-$subprojectName-runtime-buildIDactual.zip=webPath | | | runtime | $subprojectName" 
"$projectName-$subprojectName-SDK-buildIDactual.zip=webPath     | | | sdk | $subprojectName" ); # array of lines

### DEFAULT BEHAVIOUR OPTIONS ###

# default setting for whether to do or skip the php scripts section: 0 = do, 1 = skip
noscripts=0

# default setting for whether to do or skip the drop upload section: 0 = do, 1 = skip
nodrop=0

# default setting for whether to do or skip the javadoc section: 0 = do, 1 = skip
nodocs=0

# default setting for whether to do or skip the Update Manager jars section: 0 = do, 1 = skip
nojars=0

#default buildID
buildID=

#default branch
branch=1.0.0

#do RSS feed file update?
RSS=0
#RSS update default options
buildsXML=builds.xml
results="ALL,PASS"
depends=
#URLS: use "BRANCH" and "BUILDID" as placeholders to actual $branch and $buildID values
buildURL="http://download.eclipse.org/technology/$projectName/downloads/downloads-viewer.php?proj=$subprojectName&s=BRANCH/BUILDID"
buildURLinternal="http://emf.torolab.ibm.com/technology/$projectName/downloads/downloads-viewer.php?proj=$subprojectName&s=BRANCH/BUILDID"
notesURL="http://eclipse.org/$projectName/news/release-notes.php?proj=$subprojectName&version=BRANCH"
dropsURL="http://download.eclipse.org/technology/$projectName/downloads/?proj=$subprojectName"
usiteURL="http://download.eclipse.org/technology/$projectName/updates/?proj=$subprojectName"

#do IES mapping file update?
IES=1

#do bugzilla gen since datetimestamp or since last dropped build (in news.xml)
bugz=1
bugzlabel=
bugzsince=
checkInNews=1; # default 1, set to 0 for testing
noLogging=0 ; # default 0 to enable the CVS log step; if 1 use pre-existing file instead, for testing
debug=0 ; # values can be 0,1,2

releasenotesXMLfile=release-notes-$subprojectName.xml;
newsXMLfile=news.xml; # live
#newsXMLfile=news_test.xml; # testing (?)

#clean up /tmp folder?
noclean=0;

# compare drops folder after scp upload?
noCompareDropsFolders=0 ; # default 0, do compare; set 1 to bypass or pass in querystring

# compare UM folder after scp upload?
noCompareUMFolders= ; # default 0, do compare; set 1 to bypass or pass in querystring

# announce new build in newsgroup? (default 0)
announce=0;

### SERVER & PATH CONFIG OPTIONS ###

#server on which builds occur (need to ssh to this box as $user@$buildServerFullName)
buildServerFullName=emf.torolab.ibm.com

#server on which eclipse's production CVS is located (need to ssh to this box as $user@$eclipseServerFullName)
eclipseServerFullName=dev.eclipse.org

#server on which eclipse's production files are located (downloads, javadoc, etc.): ssh as $user@$downloadServerFullName)
downloadServerFullName=download1.eclipse.org

#paths on download1.eclipse.org where files are published
projectWWWDir=/home/data/httpd/download.eclipse.org/technology/$projectName
projectDropsDir=$projectWWWDir/$subprojectName/downloads/drops

#paths to build base, scripts, and drops on build server (emf.torolab)
baseBuildDir=/home/www-data/build/$projectName
buildScriptsDir=$baseBuildDir/scripts
buildDropsDir=$baseBuildDir/$subprojectName/downloads/drops

# path to website on build server (emf.torolab)
localWebDir=/var/www/technology/$projectName
localWebDirPriv=/var/www/$projectName
localWhatsNewDir=$localWebDir/whatsnew-cvs

# path to website content in cvs
webScriptsDir=org.eclipse.$projectName/releng/common/public_html/technology/$projectName
webScriptsDirPriv=org.eclipse.$projectName/releng/common/private_html/$projectName

# urls 
releaseNotesURL=http://eclipse.org/$projectName/news/release-notes.php
downloadsURL=http://download.eclipse.org/technology/$projectName/downloads/?proj=$subprojectName


### ANT OPTIONS ###
ANT=/opt/apache-ant-1.6/bin/ant


### DEFAULT BEHAVIOUR AND JVM OPTIONS :: buildUpdate.sh ###

# java home & vm used to run the build.  Defaults to java on system path
javaHome=/opt/ibm-java2-1.4
vm=$javaHome/bin/java

# zips to unpack for UM jar generation
filePrefixesToUnzipArray=( "$projectName-$subprojectName-SDK-" "$projectName-$subprojectName-automated-tests-" "$projectName-$subprojectName-examples-" );

# ant script and target to be executed
antScript=org.eclipse.releng.generators/buildProductUpdateJars.xml
target=run

# default operations
builder=1 # get builder packages from cvs
promote=0 # don't promote by default
skipjars=0 # when promoting, upload all jars (don't skip)
cleanup=1 # delete temp stuff when done

# compare UM folder after scp upload?
noCompareUMFolders=0 ; # default 0, do compare; set 1 to bypass or pass in querystring

# do 4-part jars?
no4thPart=0;

# where to get releng.generators.ProductUpdateBuilder, jars & ant scripts
relengGeneratorsCVSPath=org.eclipse.$projectName/releng/common/updates/org.eclipse.releng.generators

# use a default value for basebuilderBranch? 0 = no, 1 = yes
useDefaultBasebuilderBranch=0

# path to build.options.txt in CVS where we look up the default value to use for basebuilderBranch
buildOptionsTxtCVSPath=org.eclipse.$projectName/releng/common/public_html/technology/$projectName

### FEED WATCH CRON OPTIONS :: feed_watch_cron.sh ###
storedfeeddir=$baseBuildDir/$projectName/feeds
storedfeedfile=$storedfeeddir/$buildsXML.stored
feedURL=http://download.eclipse.org/technology/$projectName/$subprojectName/feeds/builds.xml
# space-separated list of values that are considered OK for kicking off a build. Possible values are: "PASS" "PENDING" "FAIL" "UNKNOWN" 
testresultsValid="PASS PENDING"
# comma-sep'd list or blank for no emails 
emailToAlert=codeslave@ca.ibm.com
buildFromBranch=HEAD
buildFromBranchNum=1.0.0

